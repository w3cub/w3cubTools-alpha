_N_E=("object"!==typeof self?self:this.webpackJsonp_N_E="object"!==typeof self?self:this.webpackJsonp_N_E||[]).push([[94],{CN9R:function(e,t,r){var n=r("kfWR"),o=r("DQ9f");e.exports=n,e.exports.parse=n,e.exports.stringify=o},DQ9f:function(e,t){var r=function(e,t){var r=e.repeated?"repeated":e.required?"required":"optional";"map"===e.type&&(r="map<"+e.map.from+","+e.map.to+">"),e.oneof&&(r="");var n=Object.keys(e.options||{}).map((function(t){return t+" = "+e.options[t]})).join(",");return n&&(n=" ["+n+"]"),t.push((r?r+" ":"")+("map"===e.map?"":e.type+" ")+e.name+" = "+e.tag+n+";"),t},n=function(e,t){t.push("message "+e.name+" {"),e.enums||(e.enums=[]),e.enums.forEach((function(e){t.push(o(e,[]))})),e.messages||(e.messages=[]),e.messages.forEach((function(e){t.push(n(e,[]))}));var s={};return e.fields||(e.fields=[]),e.fields.forEach((function(e){e.oneof?(s[e.oneof]||(s[e.oneof]=[]),s[e.oneof].push(r(e,[]))):t.push(r(e,[]))})),Object.keys(s).forEach((function(e){s[e].unshift("oneof "+e+" {"),s[e].push("}"),t.push(s[e])})),t.push("}",""),t},o=function(e,t){t.push("enum "+e.name+" {");var r=Object.keys(e.values).map((function(t){return t+" = "+e.values[t]+";"}));return t.push(r),t.push("}",""),t},s=function(e,t){var r=Object.keys(e);return r.forEach((function(r){var n=e[r];~r.indexOf(".")&&(r="("+r+")");var o=typeof n;"object"===o?(n=i(n,[])).length&&t.push("option "+r+" = {",n,"};"):("string"===o&&"optimize_for"!==r&&(n='"'+n+'"'),t.push("option "+r+" = "+n+";"))})),r.length>0&&t.push(""),t},i=function(e,t){return Object.keys(e).forEach((function(r){var n=e[r],o=typeof n;"object"===o?Array.isArray(n)?n.forEach((function(e){(e=i(e,[])).length&&t.push(r+" {",e,"}")})):(n=i(n,[])).length&&t.push(r+" {",n,"}"):("string"===o&&(n='"'+n+'"'),t.push(r+": "+n))})),t},a=function(e,t){var r="rpc "+e.name+"(";e.client_streaming&&(r+="stream "),r+=e.input_type+") returns (",e.server_streaming&&(r+="stream "),r+=e.output_type+")",e.options||(e.options={});var n=s(e.options,[]);return n.length>1?t.push(r+" {",n.slice(0,-1),"}"):t.push(r+";"),t},f=function(e){return function(t){return Array.isArray(t)?t.map(f(e+"  ")).join("\n"):e+t}};e.exports=function(e){var t=[];return t.push('syntax = "proto'+e.syntax+'";',""),e.package&&t.push("package "+e.package+";",""),e.options||(e.options={}),s(e.options,t),e.enums||(e.enums=[]),e.enums.forEach((function(e){o(e,t)})),e.messages||(e.messages=[]),e.messages.forEach((function(e){n(e,t)})),e.services&&e.services.forEach((function(e){!function(e,t){t.push("service "+e.name+" {"),e.options||(e.options={}),s(e.options,t),e.methods||(e.methods=[]),e.methods.forEach((function(e){t.push(a(e,[]))})),t.push("}","")}(e,t)})),t.map(f("")).join("\n")}},apke:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r("nKUr"),o=r("vJKn"),s=r.n(o),i=r("rg98"),a=r("sN8P"),f=r("q1tI"),u=r("pIeg"),p=r.n(u);function h(){var e=Object(f.useCallback)(function(){var e=Object(i.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,e.abrupt("return",p()(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(n.jsx)(a.a,{transformer:e,editorTitle:"JSON Schema",editorLanguage:"json",editorDefaultValue:"jsonSchema",resultTitle:"Protobuf",resultLanguage:"text"})}},kfWR:function(e,t,r){var n=r("lelp"),o=function(e){for(var t={};e.length;)switch(e[0]){case"[":case",":e.shift();var r=e.shift();if("("===r&&(r=e.shift(),e.shift()),"="!==e[0])throw new Error("Unexpected token in field options: "+e[0]);if(e.shift(),"]"===e[0])throw new Error("Unexpected ] in field option");t[r]=e.shift();break;case"]":return e.shift(),t;default:throw new Error("Unexpected token in field options: "+e[0])}throw new Error("No closing tag for field options")},s=function(e){for(var t={name:null,type:null,tag:0,map:null,oneof:null,required:!1,repeated:!1,options:{}};e.length;)switch(e[0]){case"=":e.shift(),t.tag=Number(e.shift());break;case"map":if(t.type="map",t.map={from:null,to:null},e.shift(),"<"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.from=e.shift(),","!==e[0])throw new Error("Unexpected token in map type: "+e[0]);if(e.shift(),t.map.to=e.shift(),">"!==e[0])throw new Error("Unexpected token in map type: "+e[0]);e.shift(),t.name=e.shift();break;case"repeated":case"required":case"optional":var r=e.shift();t.required="required"===r,t.repeated="repeated"===r,t.type=e.shift(),t.name=e.shift();break;case"[":t.options=o(e);break;case";":return e.shift(),t;default:throw new Error("Unexpected token in message field: "+e[0])}throw new Error("No ; found for message field")},i=function(e){for(var t={enums:[],messages:[],fields:[],extensions:null};e.length;)switch(e[0]){case"map":case"repeated":case"optional":case"required":t.fields.push(s(e));break;case"enum":t.enums.push(l(e));break;case"message":t.messages.push(u(e));break;case"extensions":t.extensions=f(e);break;case"oneof":e.shift();var r=e.shift();if("{"!==e[0])throw new Error("Unexpected token in oneof: "+e[0]);for(e.shift();"}"!==e[0];){e.unshift("optional");var n=s(e);n.oneof=r,t.fields.push(n)}e.shift();break;case";":e.shift();break;default:e.unshift("optional"),t.fields.push(s(e))}return t},a=function(e){return{name:e[1],message:u(e)}},f=function(e){e.shift();var t=Number(e.shift());if(isNaN(t))throw new Error("Invalid from in extensions definition");if("to"!==e.shift())throw new Error("Expected keyword 'to' in extensions definition");var r=e.shift();if("max"===r&&(r=536870911),r=Number(r),isNaN(r))throw new Error("Invalid to in extensions definition");if(";"!==e.shift())throw new Error("Missing ; in extensions definition");return{from:t,to:r}},u=function(e){e.shift();var t=1,r=[],n={name:e.shift(),enums:[],messages:[],fields:[]};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("{"===e[0]?t++:"}"===e[0]&&t--,!t)return e.shift(),r=i(r),n.enums=r.enums,n.messages=r.messages,n.fields=r.fields,n.extensions=r.extensions,n;r.push(e.shift())}if(t)throw new Error("No closing tag for message")},p=function(e){e.shift();var t=e.shift();if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},h=function(e){if(e.shift(),"="!==e[0])throw new Error("Expected = but found "+e[0]);e.shift();var t=e.shift();switch(t){case'"proto2"':t=2;break;case'"proto3"':t=3;break;default:throw new Error("Expected protobuf syntax version but found "+t)}if(";"!==e[0])throw new Error("Expected ; but found "+e[0]);return e.shift(),t},c=function(e){if(e.length<4)throw new Error("Invalid enum value: "+e.slice(0,3).join(" "));if("="!==e[1])throw new Error("Expected = but found "+e[1]);if(";"!==e[3])throw new Error("Expected ; but found "+e[1]);var t=e.shift();e.shift();var r=Number(e.shift());return e.shift(),{name:t,value:r}},l=function(e){e.shift();var t={name:e.shift(),values:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"===e[0])for(;";"!==e.shift(););var r=c(e);t.values[r.name]=r.value}throw new Error("No closing tag for enum")},m=function(e){for(var t=null,r=null,n=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")};e.length;){if(";"===e[0])return e.shift(),{name:t,value:r};switch(e[0]){case"option":e.shift();var o="("===e[0];if(o&&e.shift(),t=e.shift(),o){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}break;case"=":if(e.shift(),null===t)throw new Error("Expected key for option with value: "+e[0]);if(r=n(e.shift()),"optimize_for"===t&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(r))throw new Error("Unexpected value for option optimize_for: "+r);"{"===r&&(r=d(e));break;default:throw new Error("Unexpected token in option: "+e[0])}}},d=function(e){for(var t=function(e){return"true"===e||"false"!==e&&e.replace(/^"+|"+$/gm,"")},r={};e.length;){if("}"===e[0])return e.shift(),r;var n="("===e[0];n&&e.shift();var o=e.shift();if(n){if(")"!==e[0])throw new Error("Expected ) but found "+e[0]);e.shift()}var s=null;switch(e[0]){case":":if(void 0!==r[o])throw new Error("Duplicate option map key "+o);e.shift(),"{"===(s=t(e.shift()))&&(s=d(e)),r[o]=s;break;case"{":if(e.shift(),s=d(e),void 0===r[o]&&(r[o]=[]),!Array.isArray(r[o]))throw new Error("Duplicate option map key "+o);r[o].push(s);break;default:throw new Error("Unexpected token in option map: "+e[0])}}throw new Error("No closing tag for option map")},w=function(e){e.shift();var t=e.shift().replace(/^"+|"+$/gm,"");if(";"!==e[0])throw new Error("Unexpected token: "+e[0]+'. Expected ";"');return e.shift(),t},g=function(e){e.shift();var t={name:e.shift(),methods:[],options:{}};if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;switch(e[0]){case"option":var r=m(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value;break;case"rpc":t.methods.push(v(e));break;default:throw new Error("Unexpected token in service: "+e[0])}}throw new Error("No closing tag for service")},v=function(e){e.shift();var t={name:e.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if("("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.client_streaming=!0),t.input_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),"returns"!==e[0])throw new Error("Expected returns but found "+e[0]);if(e.shift(),"("!==e[0])throw new Error("Expected ( but found "+e[0]);if(e.shift(),"stream"===e[0]&&(e.shift(),t.server_streaming=!0),t.output_type=e.shift(),")"!==e[0])throw new Error("Expected ) but found "+e[0]);if(e.shift(),";"===e[0])return e.shift(),t;if("{"!==e[0])throw new Error("Expected { but found "+e[0]);for(e.shift();e.length;){if("}"===e[0])return e.shift(),";"===e[0]&&e.shift(),t;if("option"!==e[0])throw new Error("Unexpected token in rpc options: "+e[0]);var r=m(e);if(void 0!==t.options[r.name])throw new Error("Duplicate option "+r.name);t.options[r.name]=r.value}throw new Error("No closing tag for rpc")};e.exports=function(e){for(var t=n(e.toString()),r=0;r<t.length;r++){var o;if(/^(\"|\')([^\'\"]*)$/.test(t[r]))for(o=1===t[r].length?r+1:r;o<t.length;o++)if(/^([^\'\"]*)(\"|\')$/.test(t[o])){t=t.slice(0,r).concat(t.slice(r,o+1).join("")).concat(t.slice(o+1));break}}for(var s={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},i=!0;t.length;){switch(t[0]){case"package":s.package=p(t);break;case"syntax":if(!i)throw new Error("Protobuf syntax version should be first thing in file");s.syntax=h(t);break;case"message":s.messages.push(u(t));break;case"enum":s.enums.push(l(t));break;case"option":var f=m(t);if(s.options[f.name])throw new Error("Duplicate option "+f.name);s.options[f.name]=f.value;break;case"import":s.imports.push(w(t));break;case"extend":s.extends.push(a(t));break;case"service":s.services||(s.services=[]),s.services.push(g(t));break;default:throw new Error("Unexpected token: "+t[0])}i=!1}return s.extends.forEach((function(e){s.messages.forEach((function(t){t.name===e.name&&e.message.fields.forEach((function(e){if(!t.extensions||e.tag<t.extensions.from||e.tag>t.extensions.to)throw new Error(t.name+" does not declare "+e.tag+" as an extension number");t.fields.push(e)}))}))})),s}},lelp:function(e,t){e.exports=function(e){var t=function(e){return e.trim()};return e.replace(/([;,{}\(\)=\:\[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(t).filter(Boolean).map((function(e){var t=e.indexOf("//");return t>-1?e.slice(0,t):e})).map(t).filter(Boolean).join("\n").split(/\s+|\n+/gm).filter(function(){var e=!1;return function(t){return"/*"===t?(e=!0,!1):"*/"===t?(e=!1,!1):!e}}())}},pIeg:function(e,t,r){var n=r("CN9R"),o={array:"repeated",object:"message",integer:"int32",number:"int32",string:"string",boolean:"bool"};function s(e){var t={name:e.name,enums:[],messages:[],fields:[]},r=1;for(var n in e.properties){"object"===(f=e.properties[n]).type?(f.name=n,t.messages.push(s(f))):(f.name=n,t.fields.push(i(f,r)),r+=1)}for(var o in e.required){var a=e.required[o];for(var o in t.fields){var f;a===(f=t.fields[o]).name&&(f.required=!0)}}return t}function i(e,t){var r=o[e.type]||e.type,n=!1;return"array"===e.type&&(n=!0,r=e.items.type),{name:e.name,type:r,tag:t,repeated:n}}e.exports=function(e){"string"===typeof e&&(e=JSON.parse(e));var t={syntax:2,package:null,enums:[],messages:[]};return"object"===e.type&&t.messages.push(s(e)),n.stringify(t)}},pof7:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/json-schema-to-protobuf",function(){return r("apke")}])}},[["pof7",0,1,2,3,4,5,6,7,8,9,11,10,12,14,13,15,16,17,18]]]);